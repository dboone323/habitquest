---
name: Simple CI Test

on:
  push:
    branches: [main, develop]

permissions:
  contents: read

jobs:
  simple-build:
    name: Simple Build Test  
    runs-on: macos-latest  # Use standard runner instead of macos-latest-large

    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Basic Environment Check
        run: |
          echo "üîç Basic system check:"
          whoami
          pwd
          ls -la
          echo "‚úÖ Environment check complete"

      - name: Xcode Version Check
        run: |
          echo "üîç Xcode version:"
          xcodebuild -version || echo "‚ùå xcodebuild failed"
          
      - name: Project Structure Check
        run: |
          echo "üîç Project files:"
          if [ -f "CodingReviewer.xcodeproj/project.pbxproj" ]; then
            echo "‚úÖ Project file exists"
            echo "Object version: $(grep 'objectVersion' CodingReviewer.xcodeproj/project.pbxproj)"
          else
            echo "‚ùå Project file missing"
            exit 1
          fi

      - name: Basic Build Attempt
        run: |
          echo "üî® Basic build test:"
          xcodebuild -project CodingReviewer.xcodeproj -list
          echo "Attempting build..."
          xcodebuild -project CodingReviewer.xcodeproj -scheme CodingReviewer -destination "platform=macOS" build
